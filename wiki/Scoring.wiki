#summary How scoring will work.

= Introduction =

This is pretty tricky because it isn't clear what should depend on what, e.g. you could give tracks a higher score based on the top artists but you could also give artists a score based on the score of their tracks.


= Details =

Each track has:
  * A track name
  * An artist name
  * A list of the tracks that are related to it, with scores (inverse of the results from track.getSimilar)

Each artist has:
  * An artist name
  * A list of the artists that are similar to it, with scores (inverse of artist.getSimilar)
  * A list of tracks (with play count if available)

= Similar Track Scoring =
{{{
  Find max similarity score (or keep this as a member and update when new scores are found)
  Set all scores to -1
  For all tracks
    If score is < 0
      tempscore = 0
      if not ignore this track
        if seed track
          score = 1
        else
          for all tracks related to this one
            tempscore += (match score / max + 1) * parent's score
          if tempscore > 0.99
            tempscore = 0.99
       score = tempscore
}}}

= Similar Artist Scoring =

{{{
  Set all scores to -1
  For all artists
    If score is < 0
      tempscore = 0
      if not ignore this artist
        if seed artist
          score = 1
        else
          for all artists related to this one
            tempscore += (match score / 101) * parent's score
          if tempscore > 0.99
            tempscore = 0.99
       score = tempscore
}}}